{"version":3,"sources":["../../src/collections/Roles.ts"],"sourcesContent":["import type { CollectionConfig } from \"payload\";\n\nexport const Roles: CollectionConfig = {\n  slug: \"roles\",\n  access: {\n    read: ({ req: { user } }) => {\n      if (!user) {\n        return false;\n      }\n\n      if (Number(user.id) === 1) {\n        return true;\n      }\n\n      return {};\n    },\n  },\n  admin: {\n    defaultColumns: [\"role\", \"users\"],\n    useAsTitle: \"role\",\n  },\n  fields: [\n    {\n      name: \"role\",\n      label: \"Role Name\",\n      type: \"text\",\n      required: true,\n      unique: true,\n    },\n    {\n      name: \"users\",\n      type: \"relationship\",\n      relationTo: \"users\",\n      hasMany: true,\n    },\n    {\n      name: \"permissions\",\n      label: \"Permissions\",\n      type: \"json\",\n      typescriptSchema: [\n        () => ({\n          type: \"object\",\n          additionalProperties: {\n            type: \"object\",\n            additionalProperties: {\n              type: \"boolean\",\n            },\n          },\n        }),\n      ],\n      admin: {\n        components: {\n          Field: \"/components/admin/PermissionsField\",\n        },\n      },\n    },\n  ],\n};\n"],"names":["Roles","slug","access","read","req","user","Number","id","admin","defaultColumns","useAsTitle","fields","name","label","type","required","unique","relationTo","hasMany","typescriptSchema","additionalProperties","components","Field"],"mappings":"AAEA,OAAO,MAAMA,QAA0B;IACrCC,MAAM;IACNC,QAAQ;QACNC,MAAM,CAAC,EAAEC,KAAK,EAAEC,IAAI,EAAE,EAAE;YACtB,IAAI,CAACA,MAAM;gBACT,OAAO;YACT;YAEA,IAAIC,OAAOD,KAAKE,EAAE,MAAM,GAAG;gBACzB,OAAO;YACT;YAEA,OAAO,CAAC;QACV;IACF;IACAC,OAAO;QACLC,gBAAgB;YAAC;YAAQ;SAAQ;QACjCC,YAAY;IACd;IACAC,QAAQ;QACN;YACEC,MAAM;YACNC,OAAO;YACPC,MAAM;YACNC,UAAU;YACVC,QAAQ;QACV;QACA;YACEJ,MAAM;YACNE,MAAM;YACNG,YAAY;YACZC,SAAS;QACX;QACA;YACEN,MAAM;YACNC,OAAO;YACPC,MAAM;YACNK,kBAAkB;gBAChB,IAAO,CAAA;wBACLL,MAAM;wBACNM,sBAAsB;4BACpBN,MAAM;4BACNM,sBAAsB;gCACpBN,MAAM;4BACR;wBACF;oBACF,CAAA;aACD;YACDN,OAAO;gBACLa,YAAY;oBACVC,OAAO;gBACT;YACF;QACF;KACD;AACH,EAAE"}